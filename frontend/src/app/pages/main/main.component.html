<div *ngIf="userInfo" class="flex h-screen overflow-hidden">

  <!-- desktop sidebar -->
  <div class="max-w-[16rem] w-full flex-grow flex-col border-r hidden lg:flex">
    <div class="min-h-[4.5rem] flex items-center px-5">
      <a routerLink="home">
        <span class="sr-only">Go to home page</span>
        <img class="max-w-[10rem]" src="../../../assets/svg/uala.svg" alt="brand logo">
      </a>
    </div>
    <ul class="flex flex-col gap-1 px-3 pb-10 text-sm text-[#3A3A3A] overflow-y-auto">
      <li class="flex">
        <a routerLink="home" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faHouse"></fa-icon>
          Inicio
        </a>
      </li>
      <li class="flex">
        <a routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faCreditCard"></fa-icon>
          Tarjeta
        </a>
      </li>
      <li class="flex">
        <a routerLink="trade" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square"
            [icon]="faArrowRightArrowLeft"></fa-icon>
          Transferencias
        </a>
      </li>
      <li class="flex">
        <a routerLink="charge" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl text-md aspect-square" [icon]="faPlus"></fa-icon>
          Cargar dinero
        </a>
      </li>
      <li class="flex">
        <a routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faArrowTrendUp"></fa-icon>
          Inversiones
        </a>
      </li>
      <li class="flex">
        <a routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faCoins"></fa-icon>
          Consumo en cuotas
        </a>
      </li>
      <li class="flex">
        <a routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faThumbsUp"></fa-icon>
          Prestamos
        </a>
      </li>
      <li class="flex">
        <a routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faDollarSign"></fa-icon>
          Pagos y recargas
        </a>
      </li>
      <li class="flex">
        <a routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faTags"></fa-icon>
          Descuentos
        </a>
      </li>
      <li class="flex">
        <a routerLink="help" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
          class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square"
            [icon]="faCircleQuestion"></fa-icon>
          Ayuda
        </a>
      </li>
      <li class="flex">
        <button (click)="logout()" class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
          <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square"
            [icon]="faArrowRightFromBracket"></fa-icon>
          Cerrar sesión
        </button>
      </li>
    </ul>
  </div>

  <!-- mobile sidebar -->
  <dialog #sidebar id="sidebar" class="relative w-full min-h-screen bg-transparent lg:hidden">
    <div [ngClass]="sidebar.open? 'left-0' : 'left-[-16rem]'" class="max-w-[16rem] z-10 absolute w-full min-h-screen duration-300 flex-grow flex-col border-r bg-white">
      <div class="min-h-[4.5rem] flex items-center justify-between px-5">
        <a (click)="closeSidebar()" routerLink="home">
          <span class="sr-only">Go to home page</span>
          <img class="max-w-[10rem]" src="../../../assets/svg/uala.svg" alt="brand logo">
        </a>
        <button (click)="closeSidebar()">
          <fa-icon [icon]="faXmark"></fa-icon>
        </button>
      </div>
      <ul class="flex flex-col gap-1 px-3 pb-10 text-sm text-[#3A3A3A] overflow-y-auto">
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="home" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faHouse"></fa-icon>
            Inicio
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faCreditCard"></fa-icon>
            Tarjeta
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="trade" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square"
              [icon]="faArrowRightArrowLeft"></fa-icon>
            Transferencias
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="charge" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl text-md aspect-square" [icon]="faPlus"></fa-icon>
            Cargar dinero
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faArrowTrendUp"></fa-icon>
            Inversiones
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faCoins"></fa-icon>
            Consumo en cuotas
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faThumbsUp"></fa-icon>
            Prestamos
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faDollarSign"></fa-icon>
            Pagos y recargas
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="/work-in-progress" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faTags"></fa-icon>
            Descuentos
          </a>
        </li>
        <li class="flex">
          <a (click)="closeSidebar()" routerLink="help" routerLinkActive="bg-[#F3F4F6] text-[#022A9B]"
            class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square" [icon]="faCircleQuestion"></fa-icon>
            Ayuda
          </a>
        </li>
        <li class="flex">
          <button (click)="logout(); closeSidebar()" class="flex items-center w-full gap-3 p-2 rounded-md hover:bg-[#F3F4F6]">
            <fa-icon class="flex items-center justify-center w-6 text-xl aspect-square"
              [icon]="faArrowRightFromBracket"></fa-icon>
            Cerrar sesión
          </button>
        </li>
      </ul>
    </div>
    <div class="w-full bg-[#001A61]/40 fixed min-h-screen" (click)="closeSidebar()"></div>
  </dialog>

  <!-- header -->
  <div class="flex flex-col w-full overflow-y-auto">
    <div class="flex justify-between items-center sticky z-10 top-0 bg-white px-3 sm:px-10 min-h-[4.5rem] border-b">
      <div class="flex items-center gap-3">
        <button class="lg:hidden" (click)="showSidebar()">
          <fa-icon [icon]="faBars"></fa-icon>
        </button>
        <div class="flex items-center justify-center overflow-hidden bg-[#3564FD]/[15%] rounded-full w-9 h-9 sm:w-11 sm:h-11">
          <p class="text-[#3564FD] text-xs sm:text-base font-semibold">{{userInfo.name | stringInitial}}{{userInfo.apellido | stringInitial}}</p>
        </div>
        <h2 class="text-base md:text-xl font-semibold text-[#3A3A3A]">Hola, {{userInfo.name}}</h2>
      </div>
      <button class="text-2xl w-7 text-[#022A9B] hover:rotate-12 duration-200">
        <span class="sr-only">Notifications</span>
        <fa-icon [icon]="faBell"></fa-icon>
      </button>
    </div>
    <router-outlet></router-outlet>
  </div>
</div>

<div *ngIf="!userInfo" class="min-h-screen bg-white flex items-center justify-center">
  <div class="flex flex-col gap-7 items-center">
    <img src="../../../assets/svg/uala.svg" alt="">
    <span class="loader"></span>
  </div>
</div>